#!/bin/bash
gcc -S -masm=intel -o "$CFILE.s" "$CFILE" & echo -e ".file \"$CFILE\"\n.text\n.section .rodata\n.LC0:\n.string \"Holberton School\"\n.text\n.globl main\n.type main, @function\nmain:\n.LFB0:\n.cfi_startproc\nendbr64\npushq %rbp\n.cfi_def_cfa_offset 16\n.cfi_offset 6, -16\nmovq %rsp, %rbp\n.cfi_def_cfa_register 6\nleaq .LC0(%rip), %rdi\nmovl \$0, %eax\ncall printf@PLT\nmovl \$0, %eax\npopq %rbp\n.cfi_def_cfa 7, 8\nret\n.cfi_endproc\n.LFE0:\n.size main, .-main\n.ident \"GCC: (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0\"\n.section .note.GNU-stack,\"\",@progbits\n.section .note.gnu.property,\"a\"\n.align 8\n.long 1f - 0f\n.long 4f - 1f\n.long 5\n0:\n.string \"GNU\"\n1:\n.align 8\n.long 0xc0000002\n.long 3f - 2f\n2:\n.long 0x3\n3:\n.align 8\n4:" > "$CFILE.s"
